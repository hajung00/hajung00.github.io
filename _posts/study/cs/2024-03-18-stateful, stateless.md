---
title: Stateful / Stateless μ°¨μ΄μ 
author: cotes
date: 2024-03-18 01:33:00 +0800
categories: [Study, CS]
tags: [CS, λ„¤νΈμ›ν¬]
---

> ## Stateful (μƒνƒμ μ§€)

**μƒνƒ μ μ§€λΌ ν•¨μ€ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ΄€κ³„μ—μ„ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό λ³΄μ΅΄ν•¨μ„ μλ―Έ**ν•λ‹¤.

ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ— μ†΅μμ‹ μ„ ν•λ©° λ‹¨κ³„λ³„ κ³Όμ •μ„ μ§„ν–‰ν•λ”λ° μμ–΄, **μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈκ°€ μ΄μ „ λ‹¨κ³„μ—μ„ μ κ³µν• κ°’μ„ μ €μ¥ν•κ³  λ‹¤μ λ‹¨κ³„μ—μ„λ„ μ €μ¥ν• μƒνƒ**μ΄λ‹¤.

λ€ν‘μ μΌλ΅ ν™νμ΄μ§€μ—μ„ ν•λ² λ΅κ·ΈμΈμ„ ν•λ©΄ νμ΄μ§€λ¥Ό μ΄λ™ν•΄λ„ **λ΅κ·ΈμΈμ΄ ν’€λ¦¬μ§€μ•κ³  κ³„μ† μ μ§€λλ” κ²ƒμ΄ λ°”λ΅ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό μ μ§€(κΈ°μ–µ)ν•κ³  μμΌλ‹κΉ κ°€λ¥ν• κ²ƒ**μ΄λ‹¤.

ν΄λΌμ΄μ–ΈνΈμ μ •λ³΄λ¥Ό κΈ°μ–µν•λ‹¤λΌλ” λ§μ€ μ–΄λ”κ°€μ— μ •λ³΄λ¥Ό μ €μ¥ν•κ³  ν†µμ‹ ν• λ•λ§λ‹¤ μ½λ”λ‹¤λ” λ»μ΄λ‹¤.

**μ΄λ¬ν• μ •λ³΄λ“¤μ€ μΌλ°μ μΌλ΅ λΈλΌμ°μ €μ μΏ ν‚¤(Cookie)μ— μ €μ¥λκ±°λ‚, μ„λ²„μ μ„Έμ…(Session) λ©”λ¨λ¦¬μ— μ €μ¥λμ–΄ μƒνƒλ¥Ό μ μ§€**ν•κ² λλ‹¤.

<br/>

### Stateful ν†µμ‹  μμ‹

```
 κ³ κ°: μ΄ λ…ΈνΈλ¶ μ–Όλ§μΈκ°€μ”?
 μ μ›A: 100λ§μ› μ…λ‹λ‹¤. **(λ…ΈνΈλ¶ μƒνƒ μ μ§€)**

 κ³ κ°: 2κ° κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
 μ μ›A: 200λ§μ› μ…λ‹λ‹¤. μ‹ μ©μΉ΄λ“, ν„κΈμ¤‘μ— μ–΄λ–¤ κ±Έλ΅ κµ¬λ§¤ ν•μ‹κ² μ–΄μ”?**(λ…ΈνΈλ¶, 2κ° μƒνƒ μ μ§€)**

 κ³ κ°: μ‹ μ©μΉ΄λ“λ΅ κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
 μ μ›A: 200λ§μ› κ²°μ  μ™„λ£λμ—μµλ‹λ‹¤. **(λ…ΈνΈλ¶, 2κ°, μ‹ μ©μΉ΄λ“ μƒνƒ μ μ§€)**
```

<br/>

λ€ν™”λ¥Ό λ³΄λ©΄ νλ§¤ν•λ” **μ μ› Aλ” μ‚¬μ©μμ μ΄μ „ μ”μ²­μ„ λ¨λ‘ κΈ°μ–µν•λ©° μ§„ν–‰**ν•λ‹¤λ” κ²ƒμ„ μ• μ μλ‹¤.

μ΄κ²ƒμ΄Β μƒνƒ μ μ§€μ΄λ©° μ‚¬λ μ…μ¥μ—μ„λ” μ§€κ·Ήν μ •μƒμ μΈ λ€ν™” μ²λΌ λ³΄μΈλ‹¤.

ν•μ§€λ§ μ—¬κΈ°μ—” ν•¨μ •μ΄ μλ‹¤.Β λ°”λ΅ νλ§¤ν•λ” μ μ›A κ°€ μ¤‘κ°„μ— λ°”λ€” κ²½μ° μ΄λ‹¤.

<br/>

λ§μ•½ **λ€λ‰μ νΈλν”½(κ³ κ°)μ΄ λ°λ ¤λ“¤μ–΄μ„ μ„λ²„(μ μ›)λ¥Ό κΈ΄κΈ‰ν•κ² λλ Έλ‹¤κ³  κ°€μ •ν•΄λ³΄λ©΄, νλ§¤μ μ μ›A κ°€ μ•„λ‹ μ¦μ„¤λ μ–΄λ–¤ μ μ› Bκ°€ κµ¬λ§¤κ³Όμ •μ„ λ€μ‹  μ΄μ–΄λ°›κ² λ  μλ„ μλ‹¤.**

λ‹¤μμ€ κ³ κ°κ³Ό ν†µμ‹ ν•κ³  μλ” μ μ›A κ°€ μ¤‘κ°„μ— μ μ› Bμ™€ μ μ› Cλ΅ λ°”λ€μ—μ„ κ²½μ°μ μƒν™©μ΄λ‹¤.

<br/>

```
κ³ κ°: μ΄ λ…ΈνΈλ¶ μ–Όλ§μΈκ°€μ”?
μ μ›A: 100λ§μ› μ…λ‹λ‹¤.

κ³ κ°: 2κ° κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
μ μ›B: ? λ¬΄μ—‡μ„ 2κ° κµ¬λ§¤ν•μ‹κ² μ–΄μ”?

κ³ κ°: μ‹ μ©μΉ΄λ“λ΅ κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
μ μ›C: ? λ¬΄μ¨ μ ν’μ„ λ‡ κ° μ‹ μ©μΉ΄λ“λ΅ κµ¬λ§¤ν•μ‹κ² μ–΄μ”?
```

<br/>

### Stateful λ¬Έμ μ 

μ„μ—μ„ μƒνƒλ¥Ό μ μ§€ν•λ‹¤λ” ν•¨μ€, μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈμ μƒνƒ μ •λ³΄λ¥Ό μ €μ¥ν•κ³  μλ‹¤κ³  λ§ν–μ—λ‹¤.

**statefulμ λ¬Έμ μ μ€ ν•΄λ‹Ή μ„λ²„κ°€ λ©μ¶”κ±°λ‚ μ—¬λ¬ μ΄μ λ΅ ν•΄λ‹Ή μ„λ²„κ°€ λ»μ“°κ² λμ–΄ λ‹¤λ¥Έ μ„λ²„λ¥Ό μ‚¬μ©ν•΄μ•Ό ν• λ• λ°μƒ**ν•λ‹¤.

μ™λƒν•λ©΄ **μƒλ΅μ΄ μ„λ²„μ—μ„λ” μ΄μ „ μ„λ²„μ—μ„ κ°€μ§€κ³  μλ μƒνƒκ°’λ“¤μ„ κ°€μ§€κ³  μμ§€ μ•κΈ° λ•λ¬Έ**μ΄λ‹¤.

<br/>

μ„μ μμ‹λ΅ μ„¤λ…ν•μλ©΄, μ μ› Aλ” κ³ κ°μ μ”μ²­ μƒνƒλ¥Ό μ μ§€ν•κ³  μλ‹¤. ν•μ§€λ§ μ¤‘κ°„μ— μ μ›Aκ°€ μ •μƒμ μΈ μ‘λ™μ„ ν•μ§€ λ»ν•λ” κ²½μ°κ°€ λ°μƒν–μ„ λ•, κ³ κ°μ€ μΌμ„ μ²μλ¶€ν„° λ‹¤μ‹ ν•΄μ•Όν•λ‹¤.

λν• Stateful λ°©μ‹μ€ ν•λ‚λ…μ μ μ›μ΄ 1λ§ λ…μ ν΄λΌμ΄μ–ΈνΈλ¥Ό μ²λ¦¬ν•  λ¥λ ¥μ΄ μμ„ λ• κ·Έλ³΄λ‹¤ λ§μ€ μμ ν΄λΌμ΄μ–ΈνΈκ°€ λ°λ¦¬λ©΄, μ΄λ―Έ μ—°κ²°λ 1λ§ λ…μ ν΄λΌμ΄μ–ΈνΈ μ¤‘ μΌλ¶€κ°€ λΉ μ Έμ•Ό λ‹¤μ ν΄λΌμ΄μ–ΈνΈκ°€ μ²λ¦¬λλ‹¤λ” ν•κ³„κ°€ μλ‹¤.

λ‹Ήμ—°ν ν΄λΌμ΄μ–ΈνΈ μƒνƒλ“¤μ„ λ“¤κ³  μμΌλ‹ μ©λ‰ ν•κ³„κ°€ μ΅΄μ¬ν•κΈ° λ•λ¬Έμ΄λ‹¤.

![1](https://github.com/hajung00/hajung00.github.io/assets/66300154/2f10e032-e80b-449d-ac11-e86eb7626e07)

![κ·Έλ¦Ό1](https://github.com/hajung00/hajung00.github.io/assets/66300154/74e69389-bb20-40d2-985f-87fc69b97ae0)

<br/>

### Statefulν• ν”„λ΅ν† μ½

λ€ν‘μ μΈ **Stateful κµ¬μ΅°λ¥Ό λ”°λ¥΄λ” ν”„λ΅ν† μ½λ΅ TCPμ 3-way handshaking κ³Όμ •**μ„ μλ¥Ό λ“¤μκ°€ μλ‹¤.

- ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ— SYN(μ ‘μ† μ”μ²­ λ©”μ„Έμ§€)λ¥Ό μ „μ†΅ν•κ³  SYN_SENT μƒνƒκ°€ λλ‹¤.

- μ„λ²„λ” SYN μ”μ²­μ„ λ°›κ³ , ν΄λΌμ΄μ–ΈνΈμ— μ”μ²­μ„ μλ½ν•λ” SYN/ACKλ¥Ό μ „μ†΅ν•κ³  SYN_RECEIVED μƒνƒκ°€ λλ‹¤.

- ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ—κ² μλ½ ν™•μΈμΌλ΅ ACKλ¥Ό λ λ³΄λ‚΄κ³ , μμ‹  λ°›μ€ μ„λ²„λ” ESTABLISHED μƒνƒκ°€ λλ‹¤.

- μ„Έμ… 'μƒνƒ'κ°€ ESTABLISHEDΒ κ°€ λ¨μΌλ΅μ¨, μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈλ” μ„λ΅ λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›μ„ μ μλ” μƒνƒκ°€ λλ‹¤.

<br/>

μ΄λ ‡κ² TCPλ” **μ„Έμ… 'μƒνƒ'μ— λ”°λΌ μ„λ²„μ μ‘λ‹µμ΄ λ‹¬λΌμ§€κ² λλ” Stateful ν•λ‹¤κ³  λ§ν• μ μλ” κ²ƒ**μ΄λ‹¤.

![image](https://github.com/hajung00/hajung00.github.io/assets/66300154/a2eb65cd-4481-43ce-ab02-39c82ed069c0)

<br/>

---

<br/>

> ## Stateless (λ¬΄μƒνƒ)

**λ¬΄μƒνƒλ” λ°λ€λ΅ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ΄€κ³„μ—μ„ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό λ³΄μ΅΄ν•μ§€ μ•μμ„ μλ―Έ**ν•λ‹¤.

**Stateless κµ¬μ΅°μ—μ„ μ„λ²„λ” λ‹¨μν μ”μ²­μ΄ μ¤λ©΄ μ‘λ‹µμ„ λ³΄λ‚΄λ” μ—­ν• λ§ μν–‰**ν•λ©°, **μƒνƒ κ΄€λ¦¬λ” μ „μ μΌλ΅ ν΄λΌμ΄μ–ΈνΈμ—κ² μ±…μ„**μ΄ μλ” κ²ƒμ΄λ‹¤.

μ¦‰, **ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°„μ ν†µμ‹ μ— ν•„μ”ν• λ¨λ“  μƒνƒ μ •λ³΄λ“¤μ€ ν΄λΌμ΄μ–ΈνΈμ—μ„ κ°€μ§€κ³  μλ‹¤κ°€ μ„λ²„μ™€ ν†µμ‹ ν• λ• λ°μ΄ν„°λ¥Ό μ‹¤μ–΄ λ³΄λ‚΄λ” κ²ƒμ΄ λ¬΄μƒνƒ κµ¬μ΅°**μ΄λ‹¤.

μ„λ²„λ” λ‹¨μν λ°›μ•„μ„ μ‘λ‹µλ§ ν•΄μ£ΌκΈ° λ•λ¬Έμ— μƒνƒ μ μ§€μ— λ€ν• λ¶€ν•κ°€ ν„μ €ν μ¤„μ–΄λ“¤κ² λλ‹¤.

<br/>

### Stateless ν†µμ‹  μμ‹

```
κ³ κ°: μ΄ **λ…ΈνΈλ¶** μ–Όλ§μΈκ°€μ”?
μ μ›: 100λ§μ› μ…λ‹λ‹¤.

κ³ κ°: **λ…ΈνΈλ¶ 2κ°** κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
μ μ›: λ…ΈνΈλ¶ 2κ°λ” 200λ§μ› μ…λ‹λ‹¤. μ‹ μ©μΉ΄λ“, ν„κΈμ¤‘μ— μ–΄λ–¤ κ±Έλ΅ κµ¬λ§¤ ν•μ‹κ² μ–΄μ”?

κ³ κ°: **λ…ΈνΈλ¶ 2κ°λ¥Ό μ‹ μ©μΉ΄λ“**λ΅ κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
μ μ›: 200λ§μ› κ²°μ  μ™„λ£λμ—μµλ‹λ‹¤
```

μ„μ λ€ν™”μ—μ„ μ²λΌ **λ¬΄μƒνƒ ν†µμ‹ μ€ κ³ κ°κ³Ό μ μ›μ‚¬μ΄μ— ν•„μ”ν• λ¨λ“  μƒνƒ μ •λ³΄λ“¤μ€ κ³ κ°μ—μ„ κ°€μ§€κ³  μλ‹¤κ°€ μ μ›κ³Ό μ†ν†µν• λ• λ°μ΄ν„°λ¥Ό μ‹¤μ–΄ λ³΄λ‚΄λ” κ²ƒ**μ΄λ‹¤.

μ„λ²„λ” λ‹¨μν λ°›μ•„μ„ μ‘λ‹µλ§ ν•΄μ£ΌκΈ° λ•λ¬Έμ— μƒνƒ μ μ§€μ— λ€ν• λ¶€ν•κ°€ ν„μ €ν μ¤„μ–΄λ“¤κ² λλ‹¤.

λν• **μƒνƒλ¥Ό λ³΄κ΄€ν•μ§€ μ•μ•„ μ„λ²„ 1μ— λ¬Έμ κ°€ μƒκ²¨ μ„λ²„ 2κ°€ μ΄μ–΄ λ°›μ•„λ„ μ‘λ‹µν•λ”λ° μμ–΄ λ¬Έμ λ„ μ—†λ‹¤.**

![image](https://github.com/hajung00/hajung00.github.io/assets/66300154/ab0fa490-2d89-4891-baa6-45e254f2ac3a)

![image](https://github.com/hajung00/hajung00.github.io/assets/66300154/6ba7f3c5-301f-493a-bb8a-a7c5d029de1c)

κ·Έλμ„ **λ€λ‰μ νΈλν”½ λ°μƒ μ‹μ—λ„ μ„λ²„ ν™•μ¥μ„ ν†µν•΄ λ€μ²λ¥Ό μμ›”ν•κ² ν•  μ μλ‹¤λ” μ¥μ λ„ μλ‹¤.** (statefulκ³Ό λ‹¬λ¦¬ μ„λ²„κ°€ λ°”λ€μ–΄μ„λ„ μ •ν™•ν• μ‘λ‹µμ— λ¬Έμ κ°€ μ—†μΌλ‹κΉ)

![image](https://github.com/hajung00/hajung00.github.io/assets/66300154/15c7f01f-727b-47b8-8aa6-741ad35be872)

<br/>

### Stateless λ¬Έμ μ 

**λ¬΄μƒνƒμ λ‹¨μ μΌλ΅λ” ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ— μƒλ€μ μΌλ΅ Stateful λ³΄λ‹¤ λ” λ§μ€ λ°μ΄ν„°κ°€ μ†λ¨λκ² λλ‹¤λ” μ **μ΄λ‹¤.

**λ§¤λ² μ”μ²­ν• λ•λ§λ‹¤ μμ‹ μ λ¶€κ°€μ •λ³΄λ¥Ό μ¤μ•Όν•λ‹¤.**

λ¬Όλ΅  μ΄λ²¤νΈ μ†κ° νμ΄μ§€μ²λΌ μ•„λ¬΄ μ •λ³΄λ¥Ό λ‹΄μ„ ν•„μ”κ°€ μ—†λ” νμ΄μ§€λ” λ¬΄μƒνƒλ΅ λ§λ“¤λ©΄ μΆ‹λ‹¤.

ν•μ§€λ§ λ΅κ·ΈμΈμ²λΌ μ μ €κ°€ λ΅κ·ΈμΈν•κ³  μλ‹¤λ” μƒνƒλ¥Ό μ μ§€ν•΄μ•Ό ν•λ” μ„λΉ„μ¤λ” μƒνƒλ¥Ό μ μ§€ν•μ§€ μ•μΌλ©΄ λ΅κ·ΈμΈμ΄ ν’€λ ¤λ²„λ¦°λ‹¤.

λ”°λΌμ„ **λ¨λ“  κ²ƒμ„ λ¬΄μƒνƒλ΅ μ„¤κ³„ν•  μ μ—†λ‹¤.Β μ–΄μ©” μ μ—†λ” κ²½μ°μ—λ§ μƒνƒ μ μ§€λ¥Ό μµμ†ν•μΌλ΅ μ‚¬μ©ν•λ” κ²ƒμ΄ λ² μ¤νΈμ΄λ‹¤.**

<br/>

### Statelessν• ν”„λ΅ν† μ½

λ€ν‘μ μΈ **Stateless ν”„λ΅ν† μ½λ΅λ” UDPμ™€ HTTP** λ¥Ό λ“¤ μ μλ‹¤. (HTTP ν†µμ‹  κΈ°λ³Έμ΄ λ¬΄μƒνƒ)

λ¬΄μƒνƒμ—μ„  λΈλΌμ°μ €λ” λ°μ΄ν„°λ¥Ό μ „μ†΅ν•  λ•λ§λ‹¤ μ—°κ²°ν•κ³  λ°”λ΅ λμ–΄λ²„λ¦¬κ² λλ‹¤.

<br/>

UDPλ¥Ό μλ΅ λ“¤μ–΄ λ³΄μλ©΄, UDPλ” TCPμ™€ λ‹¬λ¦¬ handshaking κ³Όμ •μ„ ν†µν•΄ μ—°κ²° μ„Έμ…μ„ μΈμ¦ν•λ” μ μ°¨λ¥Ό μν–‰ν•μ§€ μ•κ³ , μ„Έμ… μƒνƒμ— κ΄€κ³„ μ—†μ΄ κ·Έλƒ¥ λ¬΄μ‘μ • λ³΄λ‚΄ λ²„λ¦°λ‹¤.

κ·Έλμ„ μ„λ²„μ½μ€ ν΄λΌμ΄μ–ΈνΈμ™€μ μ„Έμ… μ •λ³΄λ¥Ό μ €μ¥ν•λ” κ³Όμ •μ„ κ±°μΉμ§€ μ•μ•„, ν΄λΌμ΄μ–ΈνΈκ°€ μ†΅μ‹ ν• λ°μ΄ν„°κ°€ μμ‹ λμ—λ”μ§€ ν™•μΈν•μ§€λ„ μ•μΌλ©° ν΄λΌμ΄μ–ΈνΈμ™€μ μ„Έμ… μƒνƒμ— κ΄€κ³„μ—†μ΄ μ”μ²­μ— λ€ν• μ‘λ‹µλ§μ„ μν–‰ν•κ² λλ‹¤.

<br/>

μ¦‰, Clientμ™€μ μ„Έμ… μ •λ³΄λ¥Ό Serverκ°€ μ €μ¥ν•μ§€ μ•λ”λ‹¤λ” μ μ—μ„ Stateless ν•λ‹¤κ³  λ§ν•  μ μλ” κ²ƒμ΄λ‹¤.

![image](https://github.com/hajung00/hajung00.github.io/assets/66300154/b3f3f472-91af-43b4-bd6e-7100b1dccd70)

<br/>

---

<br/>

> ## π“‘ μ°Έκ³  μλ£

[μΈν”„λ°: λ¨λ“  κ°λ°μλ¥Ό μ„ν• HTTPμ›Ή κΈ°λ³Έ μ§€μ‹](https://www.inflearn.com/course/http-%EC%9B%B9-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/dashboard)

[μ•„μ£Ό μ‰½κ² μ΄ν•΄ν•λ” Stateful / Stateless μ°¨μ΄](https://inpa.tistory.com/entry/WEB-%F0%9F%93%9A-Stateful-Stateless-%EC%A0%95%EB%A6%AC)
