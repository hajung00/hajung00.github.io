---
title: CS 기본지식(OS, Process, Thread)
author: cotes
date: 2023-05-10 11:33:00 +0800
categories: [Study, CS]
tags: [CS]
---

> ## 하드웨어와 소프트웨어

### 하드웨어(HardWare)

**CPU(Central Processing Unit)**

<img src="https://github.com/hajung00/hajung00.github.io/assets/66300154/72519cbb-2320-466c-8163-349bf02b798f" width="80%" height="60%" alt="image"/>

CPU는 컴퓨터의 두뇌라고 볼 수 있습니다.

CPU 코어는 다양한 작업이 들어오는 대로 하나씩 처리할 수 있습니다. (Thread 단위로 코어에 맵핑)

<br/>

**GPU(Graphs Processsing Unit)**

<img src="https://github.com/hajung00/hajung00.github.io/assets/66300154/8dda607f-4949-4cd9-989d-666b64ade6aa" width="80%" height="60%" alt="image"/>

CPU와 달리 GPU는 **간단한 작업**을 처리하는 데 훌륭하며 **동시에 여러 코어에서 병렬적으로 작업을 처리**한다.

이름에서 알 수 있듯이 처음에는 그래픽을 처리하기 위해 개발되었습니다.

이러한 이유로 그래픽의 맥락에서 'GPU 사용' 또는 'GPU 지원'이 빠른 렌더링과 원활한 상호작용과 관련이 있습니다.

최근 몇 년 동안 GPU 가속 컴퓨팅으로 GPU만으로 점점 더 많은 계산이 가능해지고 있습니다.

### 소프트웨어(SoftWare)

![image](https://github.com/hajung00/hajung00.github.io/assets/66300154/74820c2b-92eb-4b63-a7ce-a530345cadd7)

**CPU와 GPU를 기반으로 프로그램이 실행되는데 이것을 소프트웨어**라고 한다.

> **프로그램**<br/>
> 실행 가능한 파일(코드)

<br/>

**기본 프로그램(OS:운영체제)**

**하드웨어 바로 위에서 실행되는 기본 프로그램을 OS**라 하며 **하드웨어를 제어하고 응용 프로그램을 실행**시킨다.

일반적으로 응용 프로그램은 운영체제가 제공하는 메커니즘을 사용하여 CPU 및 GPU에서 실행됩니다.

<br/>

**응용 프로그램**

브라우저도 응용 프로그램의 한 종류이다.

<br/>

---

<br/>

> ## 프로세스와 스레드

### 프로세스(Process)

**프로세스는 응용 프로그램이 운영체제에 의해 메모리 영역을 할당받고 실행중인 것**을 말한다.

![image](https://github.com/hajung00/hajung00.github.io/assets/66300154/778a91c6-4b12-4ca0-ae82-afe98433d974)

응용 프로그램을 실행하게 되면 **메모리의 일정 부분을 할당받게 되면서 프로세스가 생성**된다.

<img src="https://github.com/hajung00/hajung00.github.io/assets/66300154/7ed28fb1-4946-4001-b7ea-f82ac3955383" width="80%" height="60%" alt="image"/>

위의 그림처럼 운영체제에는 여러 프로그램들이 실행되어 여러 프로세스가 존재할 수 있다.

하나의 프로세스는 **Code, Data, Heap, Stack 4가지로 구성**되어 있다.

- Code: 다음번에 실행될 명령어의 주소를 갖고 있는 레지스터

- Data: global variables, static variables

- Heap: 메모리 관리, 동적으로 메모리 할당

- Stack: 프로세스가 할당된자원을 이용하는 실행의 단위, 임시 data(local variables, return address)저장

<br/>

### 스레드(Thread)

스레드란 어떠한 프로그램 내에서, 특히 **프로세스 내에서 실행되는 흐름의 단위**를 말한다.

|                                                                                                               |                                                                                                               |
| ------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------- |
| ![image](https://github.com/hajung00/hajung00.github.io/assets/66300154/3ad45a07-b67d-4f53-8de7-11c4f0d6c81c) | ![image](https://github.com/hajung00/hajung00.github.io/assets/66300154/a641cb37-2819-4e5d-9993-4ef3d8cf87f5) |

**스레드**는 프로세스 내에서 각각 **Stack만 따로 할당받고 Code, Data, Heap 영역은 공유**한다.

스레드는 한 프로세스 내에서 동작되는 여러 실행의 흐름으로, 프로세스 내의 주소 공간이나 자원들(힙 공간 등)을 같은 프로세스 내에 스레드끼리 공유하면서 실행된다.

**같은 프로세스 안에 있는 여러 스레드들은 같은 힙 공간을 공유**할 수 있지만 반면에 **서로 다른 프로세스의 메모리에 직접 접근할 수 없다.**

각각의 스레드는 별도의 레지스터와 스택을 갖고 있지만, 힙 메모리는 서로 읽고 쓸 수 있다.

한 스레드가 프로세스 자원을 변경하면, 다른 이웃 스레드(sibling thread)도 그 변경 결과를 즉시 볼 수 있다.

<br/>

### 멀티 프로세스(Multi Process)

운영체제에 의해 **프로세스가 두개 이상 실행되는 것을 멀티 프로세스**라고 한다.

**각각의 프로세스는 서로 다른 영역의 메모리에 할당되기 때문에 서로 데이터를 주고 받을 수 없다.**

![image](https://github.com/hajung00/hajung00.github.io/assets/66300154/95af10ca-3b47-4ffc-a683-4d5846260066)

**두 프로세스가 통신해야 하는 경우 IPC (Inter rocess ommunication)를 사용하면 통신**하여 서로 다른 영역의 메모리에 있는 데이터를 공유 할 수 있게 된다.

**장점**

- **독립된 구조로 안전성**이 높은 장점이 있다.

- **프로세스 중 하나에 문제가 생겨도 다른 프로세스에 영향을 주지 않아**, 작업속도가 느려지는 손해정도는 생기지만 정지되거나 하는 문제는 발생하지 않는다.

- 여러개의 프로세스가 처리되어야 할 때 동일한 데이터를 사용하고, 이러한 **데이터를 하나의 디스크에 두고 모든 프로세서(CPU)가 이를 공유하면 비용적으로 저렴**하다.

**단점**

- 독립된 메모리 영역이기 때문에 **작업량이 많을수록**( Context Switching이 자주 일어나서 주소 공간의 공유가 잦을 경우) **오버헤드가 발생**하여 성능저하가 발생 할 수 있다.

- **Context Switching 과정**에서 캐시 메모리 초기화 등 무거운 작업이 진행되고 시간이 소모되는 등 **오버헤드가 발생**한다.

<br/>

### 멀티 스레드(Multi Thread)

하나의 **프로세스 안에**는 1개 혹은 여러개의 스레드가 존재할 수 있으며 1개인 경우 싱글 스레드, **2개 이상인 경우 멀티 스레드**라고 한다.

<img src="https://github.com/hajung00/hajung00.github.io/assets/66300154/ebc6d37e-bbbe-491a-966b-2ceb40f13341" width="80%" height="60%" alt="image"/>

앞에서 말했듯이 프로세스별로 메모리의 한 영역을 할당받기 때문에 **멀티 스레드는 데이터 공유에서 자유로울 수 있다.**

즉, 멀티 스레드는 A, B, C는 프로세스 A에 포함되어 있기 때문에 스레드 A와 B의 데이터 공유가 가능하다.

**장점**

- 프로세스를 생성하여 자원을 할당하는 **시스템 콜이 줄어 자원을 효율적으로 관리**할 수 있다.

- **시스템 처리율 향상** (처리비용 감소)

  스레드 간 데이터를 주고 받는 것이 간단해지고 **시스템 자원 소모가 줄어든다.**

  스레드 사이 작업량이 작아 **Context Switching이 빠르다.** (캐시 메모리를 비울 필요가 없다.)

- 간단한 통신 방법으로 프로그램 **응답시간 단축**

  스레드는 프로세스 내 스택영역을 제외한 메모리 영역을 공유하기에 **통신 비용이 적다.**

  힙 영역을 공유하므로 **데이터를 주고 받을 수 있다.**

**단점**

- 자원을 공유하기에 **동기화 문제가 발생**할 수 있다. (병목현상, 데드락 등)

- **주의 깊은 설계가 필요하고 디버깅이 어렵다.** (불필요 부분까지 동기화하면, 대기시간으로 인해 성능저하 발생)

- **하나의 스레드에 문제가 생기면 전체 프로세스가 영향**을 받는다.

- 단일 프로세스 시스템의 경우 효과를 기대하기 어렵다.

<br/>

---

<br/>

> ## 📑 참고 자료

[브라우저에 URL 을 입력하면? CS 기본부터 공부하기](https://www.youtube.com/watch?v=T2WqQcqssoE&list=PLpq56DBY9U2AZEPhHAbG7ZbfrXvqW1bX4&index=4)

[멀티 프로세스(Multi Process)와 멀티 스레드(Multi Thread)](https://wooody92.github.io/os/%EB%A9%80%ED%8B%B0-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%99%80-%EB%A9%80%ED%8B%B0-%EC%8A%A4%EB%A0%88%EB%93%9C/)

[최신 웹브라우저 들여다보기 (1부)](https://developer.chrome.com/blog/inside-browser-part1?hl=ko#execute_program_on_process_and_thread)
